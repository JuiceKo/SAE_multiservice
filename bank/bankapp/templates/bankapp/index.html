<!DOCTYPE html>
<html>
<head>
    <title>Affichage des données</title>
</head>
<body>
    <h1>Clients</h1>
    <ul>
        {% for client in clientelle %}
            <li><p>"{{ client.nom}} {{ client.prenom }} {{ client.sexe }} {{ client.email }} {{ client.nom_utilisateur }} {{ client.mdp }}"</p></li>
        {% endfor %}

        <form method="post" action="{% url 'nouveau_client' %}">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Ajouter le client</button>
        </form>

    <h1>Comptes</h1>

        {% for compte in comptes %}
            <li><p>"{{ compte.IBAN}} {{ compte.client}} {{ compte.date}} {{ compte.solde}}"</p></li>
        {% endfor %}

        <form method="post" action="{% url 'ajout_compte' %}">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Nouveau Compte</button>
        </form>

        <h1> Suppression Compte </h1>

        <form action="{% url 'execute_sql' %}" method="post">
          {% csrf_token %}
          <label for="id_input">ID:</label>
          <input type="text" id="id_input" name="id">
          <button type="submit">Exécuter SQL</button>
        </form>

        <h1>Depot</h1>

        <form method="post" action="{% url 'depot' %}">
          {% csrf_token %} <!-- Ajoutez ceci pour la protection contre les attaques CSRF -->

          <label for="iban">IBAN :</label>
          <input type="text" id="iban" name="iban" required>

          <label for="montant">Montant :</label>
          <input type="number" id="montant" name="montant" step="0.01" required>

          <button type="submit">Mettre à jour le solde</button>
        </form>

        <h1>Retrait</h1>

        <form method="post" action="{% url 'retrait' %}">
          {% csrf_token %} <!-- Ajoutez ceci pour la protection contre les attaques CSRF -->

          <label for="iban">IBAN :</label>
          <input type="text" id="iban" name="iban" required>

          <label for="montant">Montant :</label>
          <input type="number" id="montant" name="montant" step="0.01" required>

          <button type="submit">Mettre à jour le solde</button>
        </form>

            <h1>Liste des comptes</h1>
            <form method="post">
                {% csrf_token %}
                <label for="client_id">ID du client :</label>
                <input type="text" name="client_id" id="client_id">
                <button type="submit">Rechercher</button>
            </form>

        <h1> Versement</h1>

        <form method="post" action="{% url 'depot' %}">
          {% csrf_token %}
          <label for="iban_source">IBAN Source:</label>
          <input type="text" id="iban_source" name="iban_source"><br>
          <label for="iban_cible">IBAN Cible:</label>
          <input type="text" id="iban_cible" name="iban_cible"><br>
          <label for="montant">Montant:</label>
          <input type="text" id="montant" name="montant"><br>
          <input type="submit" value="Déposer">
        </form>



    </ul>

</body>
</html>
